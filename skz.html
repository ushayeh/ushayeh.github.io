<!doctype html>
<html>
  <head>
    <meta charset = "utf-8">
    <title>ç¶²ç«™æ¨™é¡Œ</title>
    <link rel="icon" href="images.jpg">
  </head>
  <body>
      hello world
  </body>
</html>
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>4x4 é›™äººè³“æœ</title>

  <style>
    body {
      text-align: center;
      font-family: Arial;
    }

    .board {
      display: grid;
      grid-template-columns: repeat(4, 70px);
      gap: 8px;
      justify-content: center;
      margin-top: 20px;
    }

    .cell {
      width: 70px;
      height: 70px;
      background: #ddd;
      line-height: 70px;
      font-size: 18px;
      cursor: pointer;
    }

    /* ç©å®¶é¡è‰² */
    .player1 {
      background-color: #2979ff; /* è—è‰² */
      color: white;
    }

    .player2 {
      background-color: #2ecc71; /* ç¶ è‰² */
      color: white;
    }

    /* å‹åˆ©é€£ç·š */
    .win {
      background-color: red !important;
      color: white;
    }

    button {
      margin-top: 15px;
      font-size: 16px;
    }

    #info {
      margin-top: 15px;
      font-size: 20px;
    }
  </style>
</head>
<body>

<h2>4 Ã— 4 é›™äººè³“æœ</h2>

<button onclick="startGame()">éš¨æ©Ÿç”¢ç”Ÿ</button>

<div class="board" id="board"></div>

<div id="info"></div>

<script>
let turn = 1;        // 1 = ç©å®¶1ï¼Œ2 = ç©å®¶2
let gameOver = false;
let moveCount = 0;  // å·²é»æ“Šçš„æ ¼å­æ•¸

function startGame() {
  board.innerHTML = "";
  info.innerText = "ç©å®¶ 1ï¼ˆè—è‰²ï¼‰å…ˆé–‹å§‹";
  turn = 1;
  gameOver = false;
  moveCount = 0;

  for (let i = 0; i < 16; i++) {
    let cell = document.createElement("div");
    cell.className = "cell";
    cell.innerText = Math.floor(Math.random() * 99) + 1;

    cell.onclick = function () {
      if (gameOver) return;
      if (cell.classList.contains("player1") || cell.classList.contains("player2")) return;

      moveCount++;

      if (turn === 1) {
        cell.classList.add("player1");

        if (checkWin("player1")) {
          info.innerText = "ğŸ‰ ç©å®¶ 1ï¼ˆè—è‰²ï¼‰ç²å‹ï¼";
          gameOver = true;
          return;
        }

        turn = 2;
        info.innerText = "ç©å®¶ 2ï¼ˆç¶ è‰²ï¼‰çš„å›åˆ";

      } else {
        cell.classList.add("player2");

        if (checkWin("player2")) {
          info.innerText = "ğŸ‰ ç©å®¶ 2ï¼ˆç¶ è‰²ï¼‰ç²å‹ï¼";
          gameOver = true;
          return;
        }

        turn = 1;
        info.innerText = "ç©å®¶ 1ï¼ˆè—è‰²ï¼‰çš„å›åˆ";
      }

      // â­ æ»¿ 16 æ ¼ä½†æ²’äººè´ â†’ å¹³æ‰‹é‡ä¾†ï¼ˆå·²ä¿®å¥½ï¼‰
      if (moveCount === 16) {
        info.innerText = "å¹³æ‰‹ï¼é‡æ–°é–‹å§‹";
        gameOver = true;
        setTimeout(startGame, 1500);
      }
    };

    board.appendChild(cell);
  }
}

function checkWin(player) {
  let c = document.getElementsByClassName("cell");

  let lines = [
    [0,1,2,3],[4,5,6,7],[8,9,10,11],[12,13,14,15], // æ©«
    [0,4,8,12],[1,5,9,13],[2,6,10,14],[3,7,11,15], // ç›´
    [0,5,10,15],[3,6,9,12] // æ–œ
  ];

  for (let line of lines) {
    if (
      c[line[0]].classList.contains(player) &&
      c[line[1]].classList.contains(player) &&
      c[line[2]].classList.contains(player) &&
      c[line[3]].classList.contains(player)
    ) {
      for (let i of line) {
        c[i].classList.add("win");
      }
      return true;
    }
  }
  return false;
}

// é é¢ä¸€æ‰“é–‹å°±å…ˆç”¢ç”Ÿ
startGame();
</script>

</body>
</html>
